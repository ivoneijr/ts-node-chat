swagger: '2.0'
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
basePath: /
info:
  version: 2
  title: TSNode sample api
  x-logo:
    url: ../docs/assets/img/logo.png
tags:
  - name: Intro
    description: >
      This documentation is intended to guide the developer on how to integrate
      with tsnode-api


      The integration mechanism with tsnode-api is simple and was developed
      based on the REST architecture so that intermediate knowledge in
      programming language, http / https web protocols and manipulation of JSON
      files, are necessary to develop this integration.


      In this documentation you will find examples of query operations and data
      manipulation.



      ### Application/json

      The communication data structure adopted is [JSON](https://www.json.org/).
      Therefore, the data sent in request body must be encoded in `UTF-8`. And
      de headers must indicate  `Content-Type: application/json`.


      <style>

      body {''

      text-align: justify}

      </style>
  - name: status
    description: API Status route.
  - name: users
    description: Users routes.
x-tagGroups:
  - name: GENERAL
    tags:
      - Intro
  - name: Rotas
    tags:
      - status
      - users
paths:
  /status:
    get:
      tags:
        - status
      summary: Verify application running
      responses:
        '200':
          description: Respond if application is running
          schema:
            type: object
            properties:
              status:
                description: always returns It´s Alive!
                type: string
                default: It`s Alive
  /users:
    post:
      tags:
        - users
      summary: Create Users
      description: Create a **single** user.
      operationId: insertUsers
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: false
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: User data structure.
          required: true
          schema: &ref_3
            type: object
            properties:
              email:
                type: String
                description: Email
                example: Bruce Benner
      responses:
        '201':
          description: Created.
          schema:
            type: object
            description: Returns user created.
            required:
              - id
              - email
              - created_at
              - updated_at
            properties:
              id:
                type: String
                description: uuid.
                example: 6630f837-40c7-4563-ac74-2224217191f2
              email:
                type: String
                description: User email.
                example: bruce@gmail.com
              created_at:
                type: String
                description: Timestamp.
                example: '2021-04-23T01:57:43.623Z'
              updated_at:
                type: String
                description: Timestamp.
                example: '2021-04-23T01:57:43.623Z'
        '400':
          description: Bad Request.
          schema:
            type: object
            description: Retorna success e o id do e-mail
            required:
              - success
              - messages
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              messages:
                type: array
                description: Array de mensagens de erro.
                items:
                  type: object
                  properties:
                    message:
                      type: String
                      description: Mensagem de erro
                      example: '"brand" is required'
                    path:
                      type: array
                      description: path de erro
                      items:
                        type: String
                        example:
                          - body
                          - 0
                          - cards
                          - 0
                          - brand
        '403':
          description: Forbidden.
          schema: &ref_0
            type: object
            description: Retorna success e o id do e-mail
            required:
              - success
              - message
              - type
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Acesso proibido
              type:
                type: String
                description: Tipo de erro
                example: ACCESS_FORBBIDEN_ERROR
  /activities:
    post:
      tags:
        - activities
      summary: Criação/Importação de atividades
      description: >-
        Adiciona uma **coleção** de atividades em uma audiência.


        Esta operação depende de um processamento por parte do servidor para
        possíveis validações, logo, os dados não estarão disponíveis
        imadiatamente.


        Quantidade de atividades no corpo da requisição `>=1 && <=100000`.


        Caso no JSON exista mais de uma atividade com os mesmos `id_source`,
        `action` e `dimension`, a última será considerada.


        Para enviar alguma informação no campo `variables`, tanto para a
        atividade quanto para o item, você pode criar variáveis com a rota
        [Criação de variáveis](#operation/insertVariable) e listar todas as
        variáveis existentes utilizando a rota [Listagem de
        variáveis](#operation/listAudienceVariables).


        O campo `action` requer o **id** da ação. É possível criar uma nova ação
        com a rota [Criação de ação de
        atividade](#operation/createActivityActions) e listar todas as ações com
        a rota [Listagem de ações de atividade](#operation/listActivityActions).
        O campo `dimension` funciona da mesma forma, é possível criar uma
        dimensão com a rota [Criação de dimensão de
        atividade](#operation/createActivityDimensions) e listar com a rota
        [Listagem de dimensões de atividade](#operation/listActivityDimensions).


        As variáveis com o **cd_dimension** `activities` e `items` são as únicas
        permitidas. A primeira deve estar na raíz e a segunda dentro do campo de
        **items**.


        Lembre-se de enviar o `cd_variable`, que se encontra na [Listagem de
        variáveis](#operation/listAudienceVariables), como chave em `variables`.
      operationId: insertActivities
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Array de objetos do tipo Atividade.
          required: true
          schema: &ref_4
            type: array
            items:
              type: object
              required:
                - id_source
                - title
                - action
                - dimension
              properties:
                id_source:
                  type: String
                  description: Identificador da atividade
                  example: 49f57179-b48f-4a80-85b7-e889d5d2fa09
                title:
                  type: String
                  description: Título de atividade
                  example: >-
                    Compra de livro: Homo Deus: Uma Breve História do Amanhã -
                    Yuval Noah Harari
                action:
                  type: String
                  description: Id de ação.
                  example: 49f57179-b48f-4a80-85b7-e889d5d2fa09
                dimension:
                  type: String
                  description: Id de dimensão.
                  example: 49f57179-b48f-4a80-85b7-e889d5d2fa09
                date:
                  type: String
                  description: >-
                    Data de realização da atividade no formato `YYY-MM-DD
                    HH:mm:ss`
                  example: '2019-02-26 15:30:00'
                user:
                  type: object
                  description: Informações do Usuário. Uma das chaves deve ser enviada.
                  properties:
                    document:
                      type: String
                      description: Número de documento cpf **sem** caracteres especiais
                      example: '02426147016'
                    phone:
                      type: String
                      description: Número de telefone
                      example: '51999999999'
                    email:
                      type: String
                      description: E-mail válido
                      example: bbenner@marvel.com
                    id_source:
                      type: String
                      description: >-
                        Identificação de usuário no sistema que utiliza a
                        bulk-api
                      example: '999'
                    id_4all:
                      type: Number
                      description: Id 4all
                      example: 332455
                variables:
                  type: object
                  description: >-
                    Qualquer estrutura de dados desejada por parte do consumidor
                    da api
                  properties:
                    cd_variable:
                      type: String
                      description: Qualquer chave/valor
                      example: value
                items:
                  type: array
                  description: Lista de items de atividade
                  items:
                    type: object
                    required:
                      - name
                      - sku
                    properties:
                      name:
                        type: String
                        description: Nome do item
                        example: Macbook Pro
                      sku:
                        type: String
                        description: Unidade de manutenção de estoque
                        example: dads87SD4560V35F
                      variables:
                        type: object
                        description: >-
                          Qualquer estrutura de dados desejada por parte do
                          consumidor da api
                        properties:
                          cd_variable:
                            type: String
                            description: Qualquer chave/valor
                            example: value
                payment:
                  type: object
                  required:
                    - total_amount
                    - installments
                    - payment_mode
                    - status
                    - paid_at
                  description: Informações do pagamento relacionado à atividade
                  properties:
                    total_amount:
                      type: Number
                      description: Valor da transação
                      example: 10
                    discount:
                      type: Number
                      description: Desconto da transação
                      example: 2
                    installments:
                      type: Number
                      description: Quantiade de parcelas
                      example: 1
                    payment_mode:
                      type: String
                      description: >-
                        Modo de pagamento. Atualmente somente é possível enviar
                        `Crédito` e `Débito`.
                      example: Crédito
                    status:
                      type: String
                      description: >-
                        Status da transação. Valores possíveis: `Cancelado`,
                        `Negado`, `Pago`, `Falhou` e `Não Autorizado`.
                      example: Pago
                    id_4all:
                      type: Number
                      description: Id da transação na 4all.
                      example: 1234
                    requested_at:
                      type: String
                      description: >-
                        Data de realização da atividade no formato `YYY-MM-DD
                        HH:mm:ss`
                      example: '2019-02-26 15:30:00'
                    paid_at:
                      type: String
                      description: Data de pagamento no padrão `YYY-MM-DD HH:mm:ss`
                      example: '2019-02-26 15:30:00'
                    canceled_at:
                      type: String
                      description: Data de cancelamento no padrão `YYY-MM-DD HH:mm:ss`
                      example: '2019-02-26 15:30:00'
      responses:
        '201':
          description: Created.
          schema:
            type: object
            description: Retorna success e o id de importação.
            required:
              - success
              - message
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              message:
                type: String
                description: Mensagem de sucesso.
                example: >-
                  Acompanhe o status da importação pela rota: GET
                  /audience-imports/6630f837-40c7-4563-ac74-2224217191f3/
              data:
                type: object
                description: Dados de retorno
                required:
                  - audience_import_id
                properties:
                  audience_import_id:
                    type: String
                    description: Id da importação.
                    example: 6630f837-40c7-4563-ac74-2224217191f2
        '400':
          description: Bad Request.
          schema:
            type: object
            description: Retorna success e o id do e-mail
            required:
              - success
              - messages
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              messages:
                type: array
                description: Array de mensagens de erro.
                items:
                  type: object
                  properties:
                    message:
                      type: String
                      description: Mensagem de erro
                      example: '"variables" is required'
                    path:
                      type: array
                      description: path de erro
                      items:
                        type: String
                        example:
                          - body
                          - 0
                          - variables
        '401':
          description: Unauthorized.
          schema: &ref_1
            type: object
            description: Retorna success e o id do e-mail
            required:
              - success
              - message
              - type
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro..
                example: Não autorizado
              type:
                type: String
                description: Tipo de erro
                example: ACCESS_UNAUTHORIZED_ERROR
        '403':
          description: Forbidden.
          schema: *ref_0
  /audience-imports/:
    get:
      tags:
        - audience imports
      summary: Listagem de importações
      description: Retorna importações de uma audiência.
      operationId: listAudienceImports
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: limit
          description: limite de registros a serem retornados.
          required: false
          type: number
        - in: query
          name: offset
          description: Subset ou página a ser retornada.
          required: false
          type: number
        - in: query
          name: status
          description: "Parâmetro em formato array com os status que o cliente deseja filtrar.\n\nNeste exemplo a seguir\n\n`/v2/audience-imports?limit=10&offset=0&status[]=100&status[]=900`\n\nVocê solicita 3 registros da primeira página de resultados que incluem os status de upload concluído e upload iniciado.\n\n100 -\tUpload Concluído\n\n200 -\tMapeamento Concluído\n\n300 -\tImportação em Andamento\n\n400 -\tImportação Concluída\n\n500 -\tFalha no Upload\n\n600 -\tFalha no Mapeamento\n\n700 -\tFalha na Importação\n\n800 -\tStatus Desconhecido\n\n900 -\tUpload iniciado\n\n1000 -\tUpload em andamento"
          required: false
          type: number
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: >-
              Retorna alguns meta dados levados em consideração na consulta e o
              resultado.
            required:
              - success
              - total
              - limit
              - offset
              - status
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              total:
                type: Number
                description: Total de registros.
                example: 100000
              limit:
                type: Number
                description: Limite de objetos para executar consulta.
                example: 10
              offset:
                type: Number
                description: Página utilizada para executar consulta.
                example: 0
              status:
                type: Number
                description: Status considerados para executar consulta.
                example:
                  - 100
                  - 900
              data:
                type: array
                description: Resultado da consulta de listagem de importações.
                items:
                  type: object
                  properties:
                    id_audience_import:
                      type: string
                      description: Id da importação.
                      example: 5ec03657-da9a-4f9e-9542-0fa0990fdab6
                    nm_audience_import:
                      type: string
                      description: Nome da importação.
                      example: Importação [2019-02-06 13:15:32]
                    cd_import_status:
                      type: string
                      description: Código de status de importação.
                      example: 100
                    ds_status:
                      type: string
                      description: Descrição de status de importação.
                      example: Upload Concluído
                    ts_ingested_at:
                      type: string
                      description: Data de ingestão de importação.
                      example: '2019-02-06 13:15:32'
                    ts_imported_at:
                      type: string
                      description: Data de importação.
                      example: '2019-02-06 13:15:32'
                    ts_created_at:
                      type: string
                      description: Data de criação de importação.
                      example: '2019-02-06 13:15:32'
                    ts_updated_at:
                      type: string
                      description: Data de atualização de importação.
                      example: '2019-02-06 13:15:33'
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao buscar lista importações.
              type:
                type: String
                description: Tipo de erro.
                example: AUDIENCE_IMPORT_LIST_ERROR
  /audience-imports/{id}:
    get:
      tags:
        - audience imports
      summary: Retorna detalhes de uma importação.
      description: Detalhes de uma importação
      operationId: showAudienceImports
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: Retorna sucesso da requisição e detalhes de uma importação..
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                properties:
                  id_audience_import:
                    type: string
                    description: Id da importação.
                    example: 5ec03657-da9a-4f9e-9542-0fa0990fdab6
                  nm_audience_import:
                    type: string
                    description: Nome da importação.
                    example: Importação [2019-02-06 13:15:32]
                  cd_import_status:
                    type: string
                    description: Código de status de importação.
                    example: 100
                  ds_status:
                    type: string
                    description: Descrição de status de importação.
                    example: Upload Concluído
                  ts_ingested_at:
                    type: string
                    description: Data de ingestão de importação.
                    example: '2019-02-06 13:15:32'
                  ts_imported_at:
                    type: string
                    description: Data de importação.
                    example: '2019-02-06 13:15:32'
                  ts_created_at:
                    type: string
                    description: Data de criação de importação.
                    example: '2019-02-06 13:15:32'
                  ts_updated_at:
                    type: string
                    description: Data de atualização de importação.
                    example: '2019-02-06 13:15:33'
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao buscar importação.
              type:
                type: String
                description: Tipo de erro.
                example: AUDIENCE_IMPORT_SHOW_ERROR
  /activity-actions/batch:
    post:
      tags:
        - activity actions
      summary: Criação de ações de atividades em lote.
      description: Adiciona ações em lote.
      operationId: createActivityActionsBatch
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Array de objetos do tipo Ação de atividades.
          required: true
          schema:
            type: array
            items:
              type: object
              required:
                - nm_activity_action
                - is_active
              properties:
                nm_activity_action:
                  type: String
                  description: Nome da ação de atividade
                  example: Aquele nome que você respeita
                is_active:
                  type: boolean
                  description: Flag sinalizando se ação está ativa ou não.
                  example: true
      responses:
        '201':
          description: Created.
          schema:
            type: object
            description: Retorna success e a ação de atividade criada.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                description: Dados de retorno
                required:
                  - nm_activity_action
                  - is_active
                  - id_activity_action
                properties:
                  nm_activity_action:
                    type: String
                    description: Nome da ação de atividade
                    example: Aquele nome que você respeita
                  is_active:
                    type: boolean
                    description: Flag sinalizando se ação está ativa ou não.
                    example: true
                  id_activity_action:
                    type: String
                    description: Id da ação criada.
                    example: 7bd3621b-ef32-4a1f-945b-02d1fc459851
        '400':
          description: Bad Request.
          schema:
            type: object
            description: Retorna success e erro.
            required:
              - success
              - messages
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              messages:
                type: array
                description: Array de mensagens de erro.
                items:
                  type: object
                  properties:
                    message:
                      type: String
                      description: Mensagem de erro
                      example: '"is_active" is required'
                    path:
                      type: array
                      description: path de erro
                      items:
                        type: String
                        example:
                          - body
                          - 0
                          - is_active
                    type:
                      type: String
                      description: Tipo de erro
                      example: any.required
                    context:
                      type: object
                      description: Informações de contexto do erro.
                      properties:
                        key:
                          type: String
                          example: is_active
                        label:
                          type: String
                          example: is_active
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
  /activity-actions/:
    post:
      tags:
        - activity actions
      summary: Criação de ação de atividade.
      description: Adiciona uma ação indivitual.
      operationId: createActivityActions
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Array de objetos do tipo Ação de atividade..
          required: true
          schema:
            type: object
            required:
              - nm_activity_action
              - is_active
            properties:
              nm_activity_action:
                type: String
                description: Nome da ação de atividade
                example: Aquele nome que você respeita
              is_active:
                type: boolean
                description: Flag sinalizando se ação está ativa ou não.
                example: true
      responses:
        '201':
          description: Created.
          schema:
            type: object
            description: Retorna success e a ação de atividade criada.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                description: Dados de retorno
                required:
                  - nm_activity_action
                  - is_active
                  - id_activity_action
                properties:
                  nm_activity_action:
                    type: String
                    description: Nome da ação de atividade
                    example: Aquele nome que você respeita
                  is_active:
                    type: boolean
                    description: Flag sinalizando se ação está ativa ou não.
                    example: true
                  id_activity_action:
                    type: String
                    description: Id da ação criada.
                    example: 7bd3621b-ef32-4a1f-945b-02d1fc459851
        '400':
          description: Bad Request.
          schema:
            type: object
            description: Retorna success e erro.
            required:
              - success
              - messages
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              messages:
                type: array
                description: Array de mensagens de erro.
                items:
                  type: object
                  properties:
                    message:
                      type: String
                      description: Mensagem de erro
                      example: '"is_active" is required'
                    path:
                      type: array
                      description: path de erro
                      items:
                        type: String
                        example:
                          - body
                          - is_active
                    type:
                      type: String
                      description: Tipo de erro
                      example: any.required
                    context:
                      type: object
                      description: Informações de contexto do erro.
                      properties:
                        key:
                          type: String
                          example: is_active
                        label:
                          type: String
                          example: is_active
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
    get:
      tags:
        - activity actions
      summary: Listagem de ações de atividade.
      description: Retorna ações de atividade.
      operationId: listActivityActions
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: limit
          description: limite de registros a serem retornados.
          required: false
          type: number
        - in: query
          name: offset
          description: Subset ou página a ser retornada.
          required: false
          type: number
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: >-
              Retorna alguns meta dados levados em consideração na consulta e o
              resultado.
            required:
              - success
              - total
              - limit
              - offset
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              total:
                type: Number
                description: Total de registros.
                example: 100
              limit:
                type: Number
                description: Limite de objetos para executar consulta.
                example: 10
              offset:
                type: Number
                description: Página utilizada para executar consulta.
                example: 0
              data:
                type: array
                description: Resultado da consulta de listagem de ações de atividade.
                items:
                  type: object
                  properties:
                    id_activity_action:
                      type: string
                      description: Id de ação
                      example: 4eb3d190-febe-4b93-94c6-06a4023306a2
                    id_audience:
                      type: string
                      description: Id da audiência
                      example: a16be695-8601-11e8-9af2-e4a4714157e9
                    nm_activity_action:
                      type: string
                      description: Nome da ação
                      example: ac1
                    is_custom:
                      type: boolean
                      description: Flag para sinalizar se a ação é do tipo customizada.
                      example: true
                    is_active:
                      type: boolean
                      description: Flag para sinalizar se a ação está ativa.
                      example: true
                    ts_created_at:
                      type: string
                      description: Timestamp de criação de ação.
                      example: '2019-02-21 20:18:27'
                    ts_updated_at:
                      type: string
                      description: Timestamp de atualização de ação
                      example: '2019-02-21 20:18:27'
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao listar ações.
              type:
                type: String
                description: Tipo de erro.
                example: ACTIVITY_ACTIONS_LIST_ERROR
  /activity-actions/{id}:
    get:
      tags:
        - activity actions
      summary: Retorna detalhes de uma ação de atividade.
      description: Detalhes de uma ação de atividade.
      operationId: showActivityActions
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: Retorna sucesso da requisição.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                properties:
                  id_activity_action:
                    type: string
                    description: Id de ação
                    example: 4eb3d190-febe-4b93-94c6-06a4023306a2
                  id_audience:
                    type: string
                    description: Id da audiência
                    example: a16be695-8601-11e8-9af2-e4a4714157e9
                  nm_activity_action:
                    type: string
                    description: Nome da ação
                    example: ac1
                  is_custom:
                    type: boolean
                    description: Flag para sinalizar se a ação é do tipo customizada.
                    example: true
                  is_active:
                    type: boolean
                    description: Flag para sinalizar se a ação está ativa.
                    example: true
                  ts_created_at:
                    type: string
                    description: Timestamp de criação de ação.
                    example: '2019-02-21 20:18:27'
                  ts_updated_at:
                    type: string
                    description: Timestamp de atualização de ação
                    example: '2019-02-21 20:18:27'
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '404':
          description: Not found.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Ação não encontrada.
              type:
                type: String
                description: Tipo de erro.
                example: ACTIVITY_ACTION_NOT_FOUND_ERROR
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao buscar ação.
              type:
                type: String
                description: Tipo de erro.
                example: ACTIVITY_ACTIONS_SHOW_ERROR
  /activity-dimensions/batch:
    post:
      tags:
        - activity dimensions
      summary: Criação de dimensões de atividades em lote.
      description: Adiciona dimensão em lote.
      operationId: createActivityDimensionsBatch
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Array de objetos do tipo Dimensão de atividade..
          required: true
          schema:
            type: array
            items:
              type: object
              required:
                - nm_activity_dimension
                - is_active
              properties:
                nm_activity_dimension:
                  type: String
                  description: Nome da dimensão de atividade
                  example: Aquele nome que você respeita
                is_active:
                  type: boolean
                  description: Flag sinalizando se dimensão está ativa ou não.
                  example: true
      responses:
        '201':
          description: Created.
          schema:
            type: object
            description: Retorna success e a ação de atividade criada.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                description: Dados de retorno
                required:
                  - nm_activity_dimension
                  - is_active
                  - id_activity_dimension
                properties:
                  nm_activity_dimension:
                    type: String
                    description: Nome da dimensão de atividade
                    example: Aquele nome que você respeita
                  is_active:
                    type: boolean
                    description: Flag sinalizando se dimensão está ativa ou não.
                    example: true
                  id_activity_dimension:
                    type: String
                    description: Id da dimensão criada.
                    example: 7bd3621b-ef32-4a1f-945b-02d1fc459851
        '400':
          description: Bad Request.
          schema:
            type: object
            description: Retorna success e erro.
            required:
              - success
              - messages
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              messages:
                type: array
                description: Array de mensagens de erro.
                items:
                  type: object
                  properties:
                    message:
                      type: String
                      description: Mensagem de erro
                      example: '"is_active" is required'
                    path:
                      type: array
                      description: path de erro
                      items:
                        type: String
                        example:
                          - body
                          - 0
                          - is_active
                    type:
                      type: String
                      description: Tipo de erro
                      example: any.required
                    context:
                      type: object
                      description: Informações de contexto do erro.
                      properties:
                        key:
                          type: String
                          example: is_active
                        label:
                          type: String
                          example: is_active
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
  /activity-dimensions/:
    post:
      tags:
        - activity dimensions
      summary: Criação de dimensão de atividade.
      description: Adiciona uma dimensão indivitual.
      operationId: createActivityDimensions
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Array de objetos do tipo Dimensões de atividade..
          required: true
          schema:
            type: object
            required:
              - nm_activity_dimension
              - is_active
            properties:
              nm_activity_dimension:
                type: String
                description: Nome da dimensão de atividade
                example: Aquele nome que você respeita
              is_active:
                type: boolean
                description: Flag sinalizando se dimensão está ativa ou não.
                example: true
      responses:
        '201':
          description: Created.
          schema:
            type: object
            description: Retorna success e a dimensão de atividade criada.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                description: Dados de retorno
                required:
                  - nm_activity_dimension
                  - is_active
                  - id_activity_dimension
                properties:
                  nm_activity_dimension:
                    type: String
                    description: Nome da dimensão de atividade
                    example: Aquele nome que você respeita
                  is_active:
                    type: boolean
                    description: Flag sinalizando se dimensão está ativa ou não.
                    example: true
                  id_activity_dimension:
                    type: String
                    description: Id da dimensão criada.
                    example: 7bd3621b-ef32-4a1f-945b-02d1fc459851
        '400':
          description: Bad Request.
          schema:
            type: object
            description: Retorna success e erro.
            required:
              - success
              - messages
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              messages:
                type: array
                description: Array de mensagens de erro.
                items:
                  type: object
                  properties:
                    message:
                      type: String
                      description: Mensagem de erro
                      example: '"is_active" is required'
                    path:
                      type: array
                      description: path de erro
                      items:
                        type: String
                        example:
                          - body
                          - is_active
                    type:
                      type: String
                      description: Tipo de erro
                      example: any.required
                    context:
                      type: object
                      description: Informações de contexto do erro.
                      properties:
                        key:
                          type: String
                          example: is_active
                        label:
                          type: String
                          example: is_active
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
    get:
      tags:
        - activity dimensions
      summary: Listagem de dimensões de atividade.
      description: Retorna dimensões de atividade.
      operationId: listActivityDimensions
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: limit
          description: limite de registros a serem retornados.
          required: false
          type: number
        - in: query
          name: offset
          description: Subset ou página a ser retornada.
          required: false
          type: number
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: >-
              Retorna alguns meta dados levados em consideração na consulta e o
              resultado.
            required:
              - success
              - total
              - limit
              - offset
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              total:
                type: Number
                description: Total de registros.
                example: 100
              limit:
                type: Number
                description: Limite de objetos para executar consulta.
                example: 10
              offset:
                type: Number
                description: Página utilizada para executar consulta.
                example: 0
              data:
                type: array
                description: Resultado da consulta de listagem de dimensões de atividade.
                items:
                  type: object
                  properties:
                    id_activity_dimension:
                      type: string
                      description: Id de dimensão
                      example: 4eb3d190-febe-4b93-94c6-06a4023306a2
                    id_audience:
                      type: string
                      description: Id da audiência
                      example: a16be695-8601-11e8-9af2-e4a4714157e9
                    nm_activity_dimension:
                      type: string
                      description: Nome da dimensão
                      example: ac1
                    is_custom:
                      type: boolean
                      description: Flag para sinalizar se a dimensão é do tipo customizada.
                      example: true
                    is_active:
                      type: boolean
                      description: Flag para sinalizar se a dimensão está ativa.
                      example: true
                    ts_created_at:
                      type: string
                      description: Timestamp de criação de dimensão.
                      example: '2019-02-21 20:18:27'
                    ts_updated_at:
                      type: string
                      description: Timestamp de atualização de dimensão.
                      example: '2019-02-21 20:18:27'
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao listar dimensão.
              type:
                type: String
                description: Tipo de erro.
                example: ACTIVITY_DIMENSIONS_LIST_ERROR
  /activity-dimensions/{id}:
    get:
      tags:
        - activity dimensions
      summary: Retorna detalhes de uma dimensão de atividade.
      description: Detalhes de uma dimensão de atividade.
      operationId: showActivityDimensions
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: Retorna sucesso da requisição.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                properties:
                  id_activity_dimension:
                    type: string
                    description: Id de dimensão.
                    example: 4eb3d190-febe-4b93-94c6-06a4023306a2
                  id_audience:
                    type: string
                    description: Id da audiência
                    example: a16be695-8601-11e8-9af2-e4a4714157e9
                  nm_activity_dimension:
                    type: string
                    description: Nome da dimensão.
                    example: ac1
                  is_custom:
                    type: boolean
                    description: Flag para sinalizar se a dimensão é do tipo customizada.
                    example: true
                  is_active:
                    type: boolean
                    description: Flag para sinalizar se a dimensão está ativa.
                    example: true
                  ts_created_at:
                    type: string
                    description: Timestamp de criação de dimensão.
                    example: '2019-02-21 20:18:27'
                  ts_updated_at:
                    type: string
                    description: Timestamp de atualização de dimensão.
                    example: '2019-02-21 20:18:27'
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '404':
          description: Not found.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Dimensão não encontrada.
              type:
                type: String
                description: Tipo de erro.
                example: ACTIVITY_DIMENSION_NOT_FOUND_ERROR
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao buscar dimensão.
              type:
                type: String
                description: Tipo de erro.
                example: ACTIVITY_DIMENSIONS_SHOW_ERROR
  /subscriptions/one-signal:
    post:
      tags:
        - subscriptions
      summary: Inscrição/Desinscrição OneSignal.
      operationId: createSubscriptionOneSignal
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Objeto de inscrição ou desinscrição
          required: true
          schema:
            type: object
            properties:
              id_onesignal:
                type: String
                description: >-
                  Identificador do device, obter através de:
                  https://documentation.onesignal.com/docs/player-id#section-find-player-id-by-sdk/
                example: 92286bcc-4998-4557-83f5-77319c742f93
              is_push_web_subscribed:
                type: Boolean
                description: Flag que sinaliza inscrição para receber pushs na web,
                example: true
              ds_onesignal_data:
                type: object
                description: estrutura de dados enviada para push web.
              ds_user_data:
                type: object
                description: Estrutura de dados enviada após login.
      responses:
        '201':
          description: Created.
          schema:
            type: object
            required:
              - success
              - message
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                properties:
                  id_onesignal:
                    type: String
                    description: Id no onesignal
                    example: 92286bcc-4998-4557-83f5-77319c742f93
                  is_push_web_subscribed:
                    type: Boolean
                    description: Flag que sinaliza inscrição para receber pushs na web,
                    example: true
                  ds_onesignal_data:
                    type: object
                    description: estrutura de dados enviada para push web.
                  ds_user_data:
                    type: object
                    description: Estrutura de dados enviada após login.
        '400':
          description: Bad Request.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao fazer ou desfazer inscrição.
              type:
                type: String
                description: Tipo de erro.
                example: SUBSCRIBE_UNSUBSCRIBE_ERROR
              data:
                type: object
                properties:
                  id_error:
                    type: String
                    description: >-
                      Identificador de erro para facilitar contato com suporte,
                      caso necessário.
                    example: e81b1430-17f3-4465-b4fb-34bac034aa1b
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
  /ultra-segmentations/:
    get:
      tags:
        - ultra segmentations
      summary: Listagem de ultra segmentações.
      description: Retorna ultra segmentações.
      operationId: listUltraSegmentations
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: limit
          description: limite de registros serem retornados.
          required: false
          type: number
        - in: query
          name: offset
          description: Subset ou página a ser retornada.
          required: false
          type: number
        - in: query
          name: search
          description: >-
            Termo para filtrar ultra segmentações por nome
            (nm_ultra_segmentation).
          required: false
          type: string
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: >-
              Retorna alguns meta dados levados em consideração na consulta e o
              resultado.
            required:
              - success
              - total
              - limit
              - offset
              - search
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              total:
                type: Number
                description: Total de registros.
                example: 100
              limit:
                type: Number
                description: Limite de objetos para executar consulta.
                example: 10
              offset:
                type: Number
                description: Página utilizada para executar consulta.
                example: 0
              search:
                type: Number
                description: Termo de busca para filtrar ultra segmentação por nome.
                example: 0
              data:
                type: array
                description: Resultado da consulta de listagem de ultra segmentações.
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Id da ultra segmentação.
                      example: 4eb3d190-febe-4b93-94c6-06a4023306a2
                    nm_ultra_segmentation:
                      type: string
                      description: Nome da ultra segmentação.
                      example: Ultra segmentação 123
                    qt_users:
                      type: number
                      description: Quantidade de usuários da ultra segmentação.
                      example: 8379509993
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao listar Ultra Segmentações.
              type:
                type: String
                description: Tipo de erro.
                example: ULTRA_SEGMENTATIONS_LIST_ERROR
  /ultra-segmentations/{id}:
    get:
      tags:
        - ultra segmentations
      summary: Retorna detalhes de uma ultra segmentação.
      description: Detalhes de uma ultra segmentação.
      operationId: showUltraSegmentations
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: Retorna sucesso da requisição.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                properties:
                  id:
                    type: string
                    description: Id da ultra segmentação.
                    example: 4eb3d190-febe-4b93-94c6-06a4023306a2
                  nm_ultra_segmentation:
                    type: string
                    description: Nome da ultra segmentação.
                    example: Ultra segmentação 123
                  qt_users:
                    type: number
                    description: Quantidade de usuários da ultra segmentação.
                    example: 8379509993
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '404':
          description: Not found.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Ultra segmentação não encontrada.
              type:
                type: String
                description: Tipo de erro.
                example: ULTRA_SEGMENTATION_NOT_FOUND_ERROR
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao buscar ultra segmentação.
              type:
                type: String
                description: Tipo de erro.
                example: ULTRA_SEGMENTATION_SHOW_ERROR
  /ultra-segmentations/{id}/single-profiles:
    get:
      tags:
        - ultra segmentations
      summary: Detalhes de uma ultra segmentação com os perfís únicos associados.
      description: >-
        Retorna detalhes de uma ultra segmentação com os perfís únicos
        associados.
      operationId: ultraSegmentationListSingleProfiles
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: limit
          description: limite de registros a serem retornados.
          required: false
          type: number
        - in: query
          name: offset
          description: Subset ou página a ser retornada.
          required: false
          type: number
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: >-
              Retorna detalhes de uma ultra segmentação e os single profiles
              paginados.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                description: Objeto referente a detalhes da ultra segmentação.
                properties:
                  id:
                    type: string
                    description: Id da ultra segmentação
                    example: ad797bd4-05cd-4592-b760-7bc014d10b76
                  nm_ultra_segmentation:
                    type: string
                    description: nome da ultra segmentação
                    example: MARTECH
                  qt_users:
                    type: number
                    description: Quantidade de usuários continos na ultra segmentação
                    example: 144985783
                  single_profiles:
                    type: object
                    description: Objeto com parâmentros utilizados na listagem
                    properties:
                      total:
                        type: Number
                        description: Total de registros.
                        example: 100
                      limit:
                        type: Number
                        description: Limite de objetos para executar consulta.
                        example: 10
                      offset:
                        type: Number
                        description: Página utilizada para executar consulta.
                        example: 0
                      data:
                        type: array
                        description: Resultado da consulta de listagem de perfís únicos.
                        items:
                          type: object
                          description: object (SingleProfile).
                          schema: null
                          properties:
                            id:
                              type: string
                              description: Identificador do perfil único.
                              example: 68a81cb8-14de-11e9-88dd-15998c48f0b9
                            nm_user:
                              type: string
                              description: Nome do usuário
                              example: Adolfo Da Rosa Matos
                            is_sms_subscribed:
                              type: boolean
                              description: >-
                                Flag sinalizando se usuário aceita receber
                                notificações sms.
                              example: true
                            is_push_subscribed:
                              type: boolean
                              description: >-
                                Flag sinalizando se usuário aceita receber
                                notificações push.
                              example: true
                            id_one_signal:
                              type: string
                              description: Identificador do perfíl único no One Signal.
                              example: 87f87b1d-241d-429c-be6c-ee36d1226940
                            is_bounce:
                              type: boolean
                              description: Flag sinalizando se e-mail é considerado bounce.
                              example: false
                            nr_phone:
                              type: string
                              description: Número do telefone.
                              example: '5551999999999'
                            ds_email:
                              type: string
                              description: E-mail do usuário
                              example: user123@gmail.com
                            is_email_subscribed:
                              type: boolean
                              description: >-
                                Flag sinalizando se usuário aceita receber
                                notificações de e-mail.
                              example: true
                            links:
                              type: object
                              description: >-
                                Objeto com referência para o resource em
                                questão.
                              properties:
                                self:
                                  type: String
                                  description: Referência para o resource em questão..
                                  example: >-
                                    /v2/single-profiles/68a81cb8-14de-11e9-88dd-15998c48f0b9
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Não foi possível listar single profiles.
              type:
                type: String
                description: Tipo de erro.
                example: SINGLE_PROFILES_LIST_ERROR
  /variables:
    post:
      tags:
        - variables
      summary: Criação de variável
      description: |-
        Adiciona uma variável em uma audiência.

        Esta operação é síncrona, os dados estarão disponíveis imadiatamente.
      operationId: insertVariable
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: query
          name: show_ids
          required: false
          type: boolean
          description: Flag para sinalizar se deve ser retornado id criado.
        - in: body
          name: body
          description: Objeto Variável.
          required: true
          schema:
            type: object
            required:
              - ds_variable
              - cd_dimension
              - cd_variable_type
              - nr_order
            properties:
              ds_variable:
                type: String
                description: >-
                  Descrição da variável (utilizado para geração do código da
                  mesma, deve se único).
                example: Loja mais frequentada
              cd_dimension:
                type: String
                description: Código da dimensão da variável.
                example: behavior
                enum:
                  - activities
                  - items
                  - behavior
                  - demographic
                  - financial
                  - summary
                  - geography
              cd_variable_type:
                type: String
                description: Código do tipo da variável.
                example: string
                enum:
                  - string
                  - number
                  - boolean
                  - date
              nr_order:
                type: integer
                description: >-
                  Número de ordenação da variável, utilizado para dar prefência
                  em listagens de dados que utilizam as variáveis.
                example: 3
              cd_group:
                type: string
                description: Código do grupo da variável.
                example: expenses
                enum:
                  - social
                  - expenses
                  - opinion
                  - experience
                  - career
                  - bio
                  - family
                  - contacts
                  - health
                  - general
                  - loan
                  - address
                  - other
              cd_subgroup:
                type: string
                description: Código do subgrupo da variável.
                example: expenses
              ds_subgroup:
                type: string
                description: Descrição do subgrupo da variável.
                example: Consumo
              is_segmentable_key:
                type: boolean
                description: Flag sinalizando se variável é segmentada por identificador.
                example: false
              is_segmentable_value:
                type: boolean
                description: Flag sinalizando se variável é segmentada por valor.
                example: true
              is_multivalued:
                type: boolean
                description: Flag sinalizando se variável é multivalorada.
                example: false
            example:
              ds_variable: Pagamento Preferencial
              cd_dimension: behavior
              cd_variable_type: string
              cd_group: expenses
              is_segmentable_value: true
              is_segmentable_key: false
              is_multivalued: false
              nr_order: 4
      responses:
        '201':
          description: Created.
          schema:
            type: object
            description: Retorna success ou error
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                description: Dados de retorno
                properties:
                  cd_variable:
                    type: string
                    description: Código da variável
                  id:
                    type: string
                    description: id da variável
                  links:
                    type: object
                    properties:
                      self:
                        type: string
                        description: URL para acessar o resource.
            example:
              success: true
              data:
                cd_variable: pagamento_preferencial
                id: 93a8d0f4-f973-4f27-ad8b-a3c1841a411d
                links:
                  self: /v2/variables/93a8d0f4-f973-4f27-ad8b-a3c1841a411d
        '400':
          description: Bad Request.
          schema: &ref_2
            type: object
            required:
              - success
              - messages
              - type
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              messages:
                type: array
                description: Array de mensagens de erro.
                items:
                  type: object
                  properties:
                    message:
                      type: string
                    path:
                      type: array
                    type:
                      type: string
                    context:
                      type: object
                      properties:
                        value:
                          type: string
                        valids:
                          type: array
                        key:
                          type: string
                        label:
                          type: string
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna sucesso da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
              type:
                type: String
                description: Tipo de erro.
            example:
              success: false
              message: Nome de variável já cadastrado.
              type: VARIABLES_NAME_ALREADY_REGISTERED_ERROR
              data:
                ds_variable: Pagamento Preferencial 45454d3ssfd
                id: 50ea2658-b507-4dcd-bcb2-7ae0053c198a
                links:
                  self: /v2/variables/50ea2658-b507-4dcd-bcb2-7ae0053c198a
      x-code-samples:
        - lang: CURL
          source: |
            curl -X POST \
            'https://bulk.beta.api.4all.com/v2/variables?show_ids=true' \
            -H 'Content-Type: application/json' \
            -H 'x-api-key: f3o4mc-3-kck34-f394' \
            -d {
                "ds_variable": "Pagamento Preferencial 45454d3sfsfdff",
                "cd_dimension": "behavior",
                "cd_variable_type": "string",
                "cd_group": "expenses",
                "is_segmentable_value": true,
                "is_segmentable_key": false,
                "is_multivalued": false,
                "nr_order": 4
              }
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'POST',
              url: 'https://bulk.beta.api.4all.com/v2/variables',
              qs: { "show_ids": true },
              headers:
              { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json' },
                body: {
                  "ds_variable": "Pagamento Preferencial 45454d3sfsfdff",
                  "cd_dimension": "behavior",
                  "cd_variable_type": "string",
                  "cd_group": "expenses",
                  "is_segmentable_value": true,
                  "is_segmentable_key": false,
                  "is_multivalued": false,
                  "nr_order": 4
                }
              };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
    get:
      tags:
        - variables
      summary: Listagem de variáveis
      description: Retorna variáveis de uma audiência.
      operationId: listAudienceVariables
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: type
          description: >-
            Parâmetro em formato string com tipo de variável que o cliente
            deseja filtrar.


            Neste exemplo a seguir


            `/v2/variables?type=activity&dimension=activities&limit=10&offset=0`


            Você solicita 10 registros da primeira página de resultados que são
            do tipo "activity" (e da dimensão "acitivities" que iremos ver a
            seguir).
          required: true
          type: string
          enum:
            - user
            - activity
        - in: query
          name: dimension
          description: >-
            Parâmetro em formato string com a dimensão de variável que o cliente
            deseja filtrar (caso o type informado seja "activity", as dimensions
            possíveis serão "activities" e "items").


            Neste exemplo a seguir


            `/v2/variables?type=user&dimension=geography`


            Você solicita variáveis que são do tipo usuário e da dimensão
            geografia.
          required: false
          type: string
          enum:
            - activities
            - items
            - behavior
            - demographic
            - financial
            - summary
            - geography
        - in: query
          name: limit
          description: limite de registros de variáveis a serem retornados.
          required: false
          type: number
          default: 100
        - in: query
          name: offset
          description: Subset ou página a ser retornada.
          required: false
          type: number
          default: 0
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: >-
              Retorna alguns meta dados levados em consideração na consulta e o
              resultado.
            required:
              - success
              - total
              - limit
              - offset
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              total:
                type: Number
                description: Total de registros.
                example: 100
              limit:
                type: Number
                description: Limite de objetos para executar consulta.
                example: 1
              offset:
                type: Number
                description: Página utilizada para executar consulta.
                example: 0
              data:
                type: array
                description: Resultado da consulta de listagem de variáveis.
                items:
                  type: object
                  schema: null
                  properties:
                    id:
                      type: string
                      description: Id da variável.
                      example: 5ec03657-da9a-4f9e-9542-0fa0990fdab6
                    cd_variable:
                      type: string
                      description: Código gerado para essa variável.
                      example: loja_mais_frequentada
                    ds_variable:
                      type: string
                      description: Descrição da variável, utilizada para criação do código.
                      example: Loja mais frequentada
                    cd_dimension:
                      type: string
                      description: Código da dimensão .
                      example: behavior
                    ds_dimension:
                      type: string
                      description: Descrição da dimensão.
                      example: Comportamento
                    cd_group:
                      type: string
                      description: Código do grupo da variável.
                      example: expenses
                    ds_group:
                      type: string
                      description: Descrição do grupo da variável.
                      example: Consumo
                    cd_subgroup:
                      type: string
                      description: Código do subgrupo da variável.
                      example: expenses
                    ds_subgroup:
                      type: string
                      description: Descrição do subgrupo da variável.
                      example: Consumo
                    cd_variable_type:
                      type: string
                      description: Código do tipo da variável.
                      enum:
                        - string
                        - number
                        - boolean
                        - date
                      example: string
                    is_segmentable_key:
                      type: boolean
                      description: >-
                        Flag sinalizando se variável é segmentada por
                        identificador.
                      example: false
                    is_segmentable_value:
                      type: boolean
                      description: Flag sinalizando se variável é segmentada por valor.
                      example: true
                    is_multivalued:
                      type: boolean
                      description: Flag sinalizando se variável é multivalorada.
                      example: false
                    is_custom:
                      type: boolean
                      description: >-
                        Flag sinalizando se variável é customizada (criada por
                        usuário) ou de sistema.
                      example: true
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna sucesso da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao buscar lista de variáveis.
              type:
                type: String
                description: Tipo de erro.
                example: VARIABLES_LIST_ERROR
      x-code-samples:
        - lang: CURL
          source: >
            curl -X GET \

            'https://bulk.beta.api.4all.com/v2/variables?type=user&dimension=geography'
            \

            -H 'Content-Type: application/json' \

            -H 'x-api-key: f3o4mc-3-kck34-f394'
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'GET',
              url: 'https://bulk.beta.api.4all.com/v2/variables',
              qs: { type: 'user', dimension: 'geography' },
              headers:
              { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json' } };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
  /variables/batch:
    post:
      tags:
        - variables
      summary: Criação de variveis em lote.
      description: |-
        Esta operação é síncrona, os dados serão inseridos imediatamente.

        Quantidade de variáveis no corpo da requisição `>=1 && <=100000`
      operationId: createBatchVariables
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: query
          name: show_ids
          required: false
          type: boolean
          description: Flag para sinalizar se deve ser retornado id`s criados.
        - in: body
          name: body
          description: Array de objetos do tipo Variable.
          required: true
          schema:
            type: array
            items:
              type: object
              required:
                - ds_variable
                - cd_dimension
                - cd_variable_type
                - nr_order
              properties:
                ds_variable:
                  type: String
                  description: >-
                    Descrição da variável (utilizado para geração do código da
                    mesma, deve se único).
                  example: Loja mais frequentada
                cd_dimension:
                  type: String
                  description: Código da dimensão da variável.
                  example: behavior
                  enum:
                    - activities
                    - items
                    - behavior
                    - demographic
                    - financial
                    - summary
                    - geography
                cd_variable_type:
                  type: String
                  description: Código do tipo da variável.
                  example: string
                  enum:
                    - string
                    - number
                    - boolean
                    - date
                nr_order:
                  type: integer
                  description: >-
                    Número de ordenação da variável, utilizado para dar
                    prefência em listagens de dados que utilizam as variáveis.
                  example: 3
                cd_group:
                  type: string
                  description: Código do grupo da variável.
                  example: expenses
                  enum:
                    - social
                    - expenses
                    - opinion
                    - experience
                    - career
                    - bio
                    - family
                    - contacts
                    - health
                    - general
                    - loan
                    - address
                    - other
                cd_subgroup:
                  type: string
                  description: Código do subgrupo da variável.
                  example: expenses
                ds_subgroup:
                  type: string
                  description: Descrição do subgrupo da variável.
                  example: Consumo
                is_segmentable_key:
                  type: boolean
                  description: Flag sinalizando se variável é segmentada por identificador.
                  example: false
                is_segmentable_value:
                  type: boolean
                  description: Flag sinalizando se variável é segmentada por valor.
                  example: true
                is_multivalued:
                  type: boolean
                  description: Flag sinalizando se variável é multivalorada.
                  example: false
            example:
              - ds_variable: Pagamento Preferencial
                cd_dimension: behavior
                cd_variable_type: string
                cd_group: expenses
                is_segmentable_value: true
                is_segmentable_key: false
                is_multivalued: false
                nr_order: 4
              - ds_variable: Marca Mais Consumida
                cd_dimension: behavior
                cd_variable_type: string
                cd_group: expenses
                is_segmentable_value: true
                is_segmentable_key: false
                is_multivalued: false
                nr_order: 5
              - ds_variable: Plano Operadora
                cd_dimension: demographic
                cd_variable_type: string
                cd_group: bio
                is_segmentable_value: true
                is_segmentable_key: false
                is_multivalued: false
                nr_order: 4
              - ds_variable: Marca Mais Consumida
                cd_dimension: behavior
                cd_variable_type: string
                cd_group: expenses
                is_segmentable_value: true
                is_segmentable_key: false
                is_multivalued: false
                nr_order: 8
              - ds_variable: Cheque Especial
                cd_dimension: financial
                cd_variable_type: string
                cd_group: loan
                is_segmentable_value: true
                is_segmentable_key: false
                is_multivalued: false
                nr_order: 9
      responses:
        '207':
          description: Multi-Status.
          schema:
            type: object
            description: Retorna success ou error
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                description: Dados de retorno
                required:
                  - sent
                  - repeated
                  - passed
                  - error
                  - errors
                  - created
                properties:
                  sent:
                    type: integer
                    description: Total de variáveis enviadas.
                    example: 5
                  repeated:
                    type: integer
                    description: >-
                      Total de variáveis enviadas que estão repetidas no momento
                      do envio. (só será utilizado uma).

                      Validação é feita pelo campo `ds_variable`.
                    example: 1
                  passed:
                    type: integer
                    description: Total de variáveis que foram criadas.
                    example: 2
                  error:
                    type: integer
                    description: Total de erros que ocorreram.
                    example: 2
                  errors:
                    type: array
                    description: Lista de erros.
                    items:
                      type: object
                      properties:
                        id_error:
                          type: string
                          description: >-
                            Algum erro interno ocorreu, entrar em contato
                            informando `id_error` gerado para que seja possível
                            analisar.
                        error:
                          type: object
                          description: Dados do erro.
                    example:
                      - id_error: 8881b4e8-b88f-4481-8524-e85afe16b7fa
                      - message: Nome de variável já cadastrado..
                        type: VARIABLES_NAME_ALREADY_REGISTERED_ERROR
                        data:
                          ds_variable: Plano Operadora
                          id: ee4d652b-d2c0-4268-b34e-549318663ae1
                          links:
                            self: /v2/variables/ee4d652b-d2c0-4268-b34e-549318663ae1
                  created:
                    type: array
                    description: Lista de variáveis criadas.
                    items:
                      type: object
                      properties:
                        cd_variable:
                          type: string
                          description: Código da variável
                        id:
                          type: string
                          description: id da variável
                        links:
                          type: object
                          properties:
                            self:
                              type: string
                              description: URL para acessar o resource.
                    example:
                      - cd_variable: plano_operadora
                        id: 93a8d0f4-f973-4f27-ad8b-a3c1841a411d
                        links:
                          self: /v2/variables/93a8d0f4-f973-4f27-ad8b-a3c1841a411d
                      - cd_variable: pagamento_preferencial
                        id: 92286bcc-4998-4557-83f5-77319c742f93
                        links:
                          self: /v2/variables/92286bcc-4998-4557-83f5-77319c742f93
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
      x-code-samples:
        - lang: CURL
          source: |
            curl -X POST \
            'https://bulk.beta.api.4all.com/v2/variables?show_ids=true' \
            -H 'Content-Type: application/json' \
            -H 'x-api-key: f3o4mc-3-kck34-f394' \
            -d [
                  {
                    "ds_variable": "Pagamento Preferencial",
                    "cd_dimension": "behavior",
                    "cd_variable_type": "string",
                    "cd_group": "expenses",
                    "is_segmentable_value": true,
                    "is_segmentable_key": false,
                    "is_multivalued": false,
                    "nr_order": 4
                  },
                  {
                    "ds_variable": "Marca Mais Consumida",
                    "cd_dimension": "behavior",
                    "cd_variable_type": "string",
                    "cd_group": "expenses",
                    "is_segmentable_value": true,
                    "is_segmentable_key": false,
                    "is_multivalued": false,
                    "nr_order": 5
                  },
                  {
                    "ds_variable": "Plano Operadora",
                    "cd_dimension": "demographic",
                    "cd_variable_type": "string",
                    "cd_group": "bio",
                    "is_segmentable_value": true,
                    "is_segmentable_key": false,
                    "is_multivalued": false,
                    "nr_order": 4
                  },
                  {
                    "ds_variable": "Marca Mais Consumida",
                    "cd_dimension": "behavior",
                    "cd_variable_type": "string",
                    "cd_group": "expenses",
                    "is_segmentable_value": true,
                    "is_segmentable_key": false,
                    "is_multivalued": false,
                    "nr_order": 8
                  },
                  {
                    "ds_variable": "Cheque Especial",
                    "cd_dimension": "financial",
                    "cd_variable_type": "string",
                    "cd_group": "loan",
                    "is_segmentable_value": true,
                    "is_segmentable_key": false,
                    "is_multivalued": false,
                    "nr_order": 9
                  }
                ]
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'POST',
              url: 'https://bulk.beta.api.4all.com/v2/variables?show_ids=true',
              qs: { "show_ids": true },
              headers:
              { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json' },
                body: [
                  {
                    ds_variable: 'Pagamento Preferencial',
                    cd_dimension: 'behavior',
                    cd_variable_type: 'string',
                    cd_group: 'expenses',
                    is_segmentable_value: true,
                    is_segmentable_key: false,
                    is_multivalued: false,
                    nr_order: 4
                  },
                  {
                    ds_variable: 'Marca Mais Consumida',
                    cd_dimension: 'behavior',
                    cd_variable_type: 'string',
                    cd_group: 'expenses',
                    is_segmentable_value: true,
                    is_segmentable_key: false,
                    is_multivalued: false,
                    nr_order: 5
                  },
                  {
                    ds_variable: 'Plano Operadora',
                    cd_dimension: 'demographic',
                    cd_variable_type: 'string',
                    cd_group: 'bio',
                    is_segmentable_value: true,
                    is_segmentable_key: false,
                    is_multivalued: false,
                    nr_order: 4
                  },
                  {
                    ds_variable: 'Marca Mais Consumida',
                    cd_dimension: 'behavior',
                    cd_variable_type: 'string',
                    cd_group: 'expenses',
                    is_segmentable_value: true,
                    is_segmentable_key: false,
                    is_multivalued: false,
                    nr_order: 8
                  },
                  {
                    ds_variable: 'Cheque Especial',
                    cd_dimension: 'financial',
                    cd_variable_type: 'string',
                    cd_group: 'loan',
                    is_segmentable_value: true,
                    is_segmentable_key: false,
                    is_multivalued: false,
                    nr_order: 9
                    }
                  ],
                };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
    put:
      tags:
        - variables
      summary: Atualização de variveis em lote.
      description: |-
        Esta operação é síncrona, os dados serão atualizados imediatamente.
        Quantidade de variáveis no corpo da requisição `>=1 && <=100000`
      operationId: updateBatchVariables
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: query
          name: show_ids
          required: false
          type: boolean
          description: Flag para sinalizar se deve ser retornado id`s atualizados.
        - in: body
          name: body
          description: Array de objetos contendo dados das variáveis para ser atualizada.
          required: true
          schema:
            type: array
            items:
              type: object
              required:
                - id
              properties:
                id:
                  type: String
                  description: Id da variável.
                ds_variable:
                  type: String
                  description: Descrição da variável.
                nr_order:
                  type: integer
                  description: >-
                    Número de ordenação da variável, utilizado para dar
                    prefência em listagens de dados que utilizam as variáveis.
                is_multivalued:
                  type: boolean
                  description: Flag sinalizando se variável é multivalorada.
            example:
              - id: 1931c329-8244-4ee6-be60-1f807e8a0155
                ds_variable: Loja mais frequentada
                nr_order: 1
              - id: 9e392ce6-f0a8-45d4-b5ec-2e2e1ea033d6
                is_multivalued: true
                nr_order: 21
              - id: 7ed92bd0-09c5-4024-852f-bb7fb76b31e6
                is_multivalued: true
                nr_order: 21
              - id: a1cd78f3-dbca-4c04-825f-bcd2d085128f
                ds_variable: Marca Mais Consumida atualizada
              - id: a1cd78f3-dbca-4c04-825f-bcd2d085129F
                ds_variable: Marca Mais Consumida atualizada
      responses:
        '207':
          description: Multi-Status.
          schema:
            type: object
            description: Retorna success ou error
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                description: Dados de retorno
                required:
                  - sent
                  - repeated
                  - passed
                  - error
                  - errors
                  - updated
                properties:
                  sent:
                    type: integer
                    description: Total de variáveis enviadas.
                    example: 5
                  repeated:
                    type: integer
                    description: >-
                      Total de variáveis enviadas que estão repetidas no momento
                      do envio. (só será utilizado uma).

                      Validação é feita pelo campo `ds_variable`.
                    example: 1
                  passed:
                    type: integer
                    description: Total de variáveis que foram atualizadas.
                    example: 1
                  error:
                    type: integer
                    description: Total de erros que ocorreram.
                    example: 3
                  errors:
                    type: array
                    description: Lista de erros.
                    items:
                      type: object
                      properties:
                        id_error:
                          type: string
                          description: >-
                            Algum erro interno ocorreu, entrar em contato
                            informando `id_error` gerado para que seja possível
                            analisar.
                        error:
                          type: object
                          description: Dados do erro.
                    example:
                      - id_error: 8a49850b-50b4-4b88-9d5e-b088dd4409d1
                      - message: Nome de variável já cadastrado.
                        type: VARIABLES_NAME_ALREADY_REGISTERED_ERROR.
                        data:
                          ds_variable: Loja mais frequentada
                          id: 9e392ce6-f0a8-45d4-b5ec-2e2e1ea033d6
                          links:
                            self: /v2/variables/9e392ce6-f0a8-45d4-b5ec-2e2e1ea033d6
                      - message: Variável não encontrada.
                        type: VARIABLE_NOT_FOUND_ERROR.
                        data:
                          id: a1cd78f3-dbca-4c04-825f-bcd2d085128f
                  updated:
                    type: array
                    description: Lista de variáveis atualizadas.
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: 9e392ce6-f0a8-45d4-b5ec-2e2e1ea033d6
                          description: id da variável
                        links:
                          type: object
                          properties:
                            self:
                              type: string
                              example: >-
                                /v2/variables/9e392ce6-f0a8-45d4-b5ec-2e2e1ea033d6
                              description: URL para acessar o resource.
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
      x-code-samples:
        - lang: CURL
          source: "curl -X PUT \\\n'https://bulk.beta.api.4all.com/v2/variables/bbc73920-f9e0-4858-a2a5-e6c03b0a8b29' \\\n-H 'Content-Type: application/json' \\\n-H 'x-api-key: f3o4mc-3-kck34-f394'\n-d '[\n  \t{\n      \"id\": \"1931c329-8244-4ee6-be60-1f807e8a0155\",\n      \"ds_variable\": \"Loja mais frequentada\",\n      \"nr_order\": 1\n    },\n    {\n      \"id\": \"9e392ce6-f0a8-45d4-b5ec-2e2e1ea033d6\",\n      \"is_multivalued\": true,\n      \"nr_order\": 21\n    },\n    {\n      \"id\": \"7ed92bd0-09c5-4024-852f-bb7fb76b31e6\",\n      \"is_multivalued\": true,\n      \"nr_order\": 21\n    },\n    {\n      \"id\": \"a1cd78f3-dbca-4c04-825f-bcd2d085128f\",\n      \"ds_variable\": \"Marca Mais Consumida atualizada\"\n    },\n    {\n      \"id\": \"a1cd78f3-dbca-4c04-825f-bcd2d085129F\",\n      \"ds_variable\": \"Marca Mais Consumida atualizada\"\n    }\n]'\n"
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'PUT',
              url: 'https://bulk.beta.api.4all.com/v2/variables/bbc73920-f9e0-4858-a2a5-e6c03b0a8b29',
              headers: { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json'
              },
              body: [
                {
                  id: '1931c329-8244-4ee6-be60-1f807e8a0155',
                  ds_variable: 'Loja mais frequentada',
                  nr_order: 1
                },
                {
                  id: '9e392ce6-f0a8-45d4-b5ec-2e2e1ea033d6',
                  is_multivalued: true,
                  nr_order: 21
                },
                {
                  id: '7ed92bd0-09c5-4024-852f-bb7fb76b31e6',
                  is_multivalued: true,
                  nr_order: 21
                },
                {
                  id: 'a1cd78f3-dbca-4c04-825f-bcd2d085128f',
                  ds_variable: 'Marca Mais Consumida atualizada'
                },
                {
                  id: 'a1cd78f3-dbca-4c04-825f-bcd2d085129F',
                  ds_variable: 'Marca Mais Consumida atualizada'
                }
              ]
            };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
    delete:
      tags:
        - variables
      summary: Deleção de variáveis em lote.
      description: |-
        Esta operação é síncrona, os dados serão deletados imediatamente.
        Quantidade de variáveis no corpo da requisição `>=1 && <=100000`
      operationId: deleteBatchVariables
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Array de ids.
          required: true
          schema:
            type: object
            properties:
              ids:
                type: array
                items:
                  type: string
                  description: ids de varíáveis.
                example:
                  - c554ae67-a92c-4883-b78e-cb0e873e2e99
                  - 36450d15-4d37-4da9-b272-339070165ab6
                  - 3d6ca30c-a941-4213-95c8-af9d1b0655a4
      responses:
        '207':
          description: Multi-Status.
          schema:
            type: object
            description: Retorna success ou error
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                description: Dados de retorno
                required:
                  - sent
                  - deleted
                  - error
                  - errors
                properties:
                  sent:
                    type: integer
                    description: Total de ids enviados.
                    example: 3
                  deleted:
                    type: integer
                    description: Total de variáveis que foram deletadas.
                    example: 1
                  error:
                    type: integer
                    description: Total de erros que ocorreram.
                    example: 2
                  errors:
                    type: array
                    description: Lista de erros.
                    items:
                      type: object
                      properties:
                        id_error:
                          type: string
                          description: >-
                            Algum erro interno ocorreu, entrar em contato
                            informando `id_error` gerado para que seja possível
                            analisar.
                        error:
                          type: object
                          description: Dados do erro.
                    example:
                      - id_error: a1cd78f3-dbca-4c04-825f-bcd2d085128f
                      - message: Variável não encontrada.
                        type: VARIABLE_NOT_FOUND_ERROR
                        data:
                          id: 36450d15-4d37-4da9-b272-339070165ab6
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
      x-code-samples:
        - lang: CURL
          source: |
            curl -X DELETE \
            'https://bulk.beta.api.4all.com/v2/variables/batch' \
            -H 'Content-Type: application/json' \
            -H 'x-api-key: f3o4mc-3-kck34-f394' \
            -d '{
                "ids": [
                  "c554ae67-a92c-4883-b78e-cb0e873e2e99",
                  "fa051831-ad99-481f-ab68-b99482eaa1fd",
                  "3d6ca30c-a941-4213-95c8-af9d1b0655a4"
                ]
              }'
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'DELETE',
              url: 'https://bulk.beta.api.4all.com/v2/variables/batch',
              headers: { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json'
              },
              body: {
                ids: [
                  'c554ae67-a92c-4883-b78e-cb0e873e2e99',
                  'fa051831-ad99-481f-ab68-b99482eaa1fd',
                  '3d6ca30c-a941-4213-95c8-af9d1b0655a4'
                ]
              },
              json: true
            };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
  /variables/{id}:
    get:
      tags:
        - variables
      summary: Retorna detalhes de uma variável.
      description: Detalhes de uma variável.
      operationId: showVariable
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
          description: Identificador da variável
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: Retorna sucesso da requisição.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                properties:
                  id:
                    type: string
                    description: Id da variável.
                    example: 5ec03657-da9a-4f9e-9542-0fa0990fdab6
                  cd_variable:
                    type: string
                    description: Código gerado para essa variável.
                    example: loja_mais_frequentada
                  ds_variable:
                    type: string
                    description: Descrição da variável, utilizada para criação do código,
                    example: Loja mais frequentada
                  cd_dimension:
                    type: string
                    description: Código da dimensão .
                    example: behavior
                  ds_dimension:
                    type: string
                    description: Descrição da dimensão.
                    example: Comportamento
                  cd_group:
                    type: string
                    description: Código do grupo da variável.
                    example: expenses
                  ds_group:
                    type: string
                    description: Descrição do grupo da variável.
                    example: Consumo
                  cd_subgroup:
                    type: string
                    description: Código do subgrupo da variável.
                    example: expenses
                  ds_subgroup:
                    type: string
                    description: Descrição do subgrupo da variável.
                    example: Consumo
                  cd_variable_type:
                    type: string
                    description: Código do tipo da variável.
                    enum:
                      - string
                      - number
                      - boolean
                      - date
                    example: string
                  is_segmentable_key:
                    type: boolean
                    description: >-
                      Flag sinalizando se variável é segmentada por
                      identificador.
                    example: false
                  is_segmentable_value:
                    type: boolean
                    description: Flag sinalizando se variável é segmentada por valor.
                    example: true
                  is_multivalued:
                    type: boolean
                    description: Flag sinalizando se variável é multivalorada.
                    example: false
                  is_custom:
                    type: boolean
                    description: >-
                      Flag sinalizando se variável é customizada (criada por
                      usuário) ou de sistema.
                    example: true
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '404':
          description: Not found.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Variável não encontrada.
              type:
                type: String
                description: Tipo de erro.
                example: VARIABLE_NOT_FOUND_ERROR
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna sucesso da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao buscar variável.
              type:
                type: String
                description: Tipo de erro.
                example: VARIABLE_SHOW_ERROR
      x-code-samples:
        - lang: CURL
          source: >
            curl -X GET \

            'https://bulk.beta.api.4all.com/v2/variables/bbc73920-f9e0-4858-a2a5-e6c03b0a8b29'
            \

            -H 'Content-Type: application/json' \

            -H 'x-api-key: f3o4mc-3-kck34-f394'
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'GET',
              url: 'https://bulk.beta.api.4all.com/v2/variables/bbc73920-f9e0-4858-a2a5-e6c03b0a8b29',
              headers:
              { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json' } };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
    delete:
      tags:
        - variables
      summary: Deleta uma variável.
      description: Esta operação é síncrona, os dados serão deletados imediatamente.
      operationId: deleteVariable
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
          description: Identificador da variável
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: Retorna sucesso da requisição.
            required:
              - success
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '404':
          description: Not found.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Variável não encontrada.
              type:
                type: String
                description: Tipo de erro.
                example: VARIABLE_NOT_FOUND_ERROR
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna sucesso da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao deletar variável.
              type:
                type: String
                description: Tipo de erro.
                example: VARIABLE_DELETE_ERROR
      x-code-samples:
        - lang: CURL
          source: >
            curl -X DELETE \

            'https://bulk.beta.api.4all.com/v2/variables/bbc73920-f9e0-4858-a2a5-e6c03b0a8b29'
            \

            -H 'Content-Type: application/json' \

            -H 'x-api-key: f3o4mc-3-kck34-f394'
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'DELETE',
              url: 'https://bulk.beta.api.4all.com/v2/variables/bbc73920-f9e0-4858-a2a5-e6c03b0a8b29',
              headers:
              { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json' } };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
    put:
      tags:
        - variables
      summary: Atualiza uma variável.
      description: Esta operação é síncrona, os dados serão atualizados imediatamente.
      operationId: updateVariable
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
          description: Identificador da variável
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Pelo menos um dos itens deve ser informado.
          required: true
          schema:
            type: object
            properties:
              ds_variable:
                type: String
                description: Descrição da variável.
                example: Loja mais frequentada
              nr_order:
                type: integer
                description: >-
                  Número de ordenação da variável, utilizado para dar prefência
                  em listagens de dados que utilizam as variáveis.
                example: 3
              is_multivalued:
                type: boolean
                description: Flag sinalizando se variável é multivalorada.
                example: false
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: Retorna sucesso da requisição.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                properties:
                  ds_variable:
                    type: String
                    description: Descrição da variável.
                    example: Loja mais frequentada
                  nr_order:
                    type: integer
                    description: >-
                      Número de ordenação da variável, utilizado para dar
                      prefência em listagens de dados que utilizam as variáveis.
                    example: 3
                  is_multivalued:
                    type: boolean
                    description: Flag sinalizando se variável é multivalorada.
                    example: false
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '404':
          description: Not found.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Variável não encontrada.
              type:
                type: String
                description: Tipo de erro.
                example: VARIABLE_NOT_FOUND_ERROR
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna sucesso da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao atualizar variável.
              type:
                type: String
                description: Tipo de erro.
                example: VARIABLE_UPDATE_ERROR
      x-code-samples:
        - lang: CURL
          source: >
            curl -X PUT \

            'https://bulk.beta.api.4all.com/v2/variables/bbc73920-f9e0-4858-a2a5-e6c03b0a8b29'
            \

            -H 'Content-Type: application/json' \

            -H 'x-api-key: f3o4mc-3-kck34-f394'

            -d '{
                "ds_variable": "Loja mais frequentada",
                "is_multivalued": false,
                "nr_order": 1
              }'
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'PUT',
              url: 'https://bulk.beta.api.4all.com/v2/variables/bbc73920-f9e0-4858-a2a5-e6c03b0a8b29',
              headers: { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json'
              },
              body: {
                ds_variable: 'Loja mais frequentada',
                is_multivalued: false,
                nr_order: 1
              }
              };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
  /single-profiles:
    get:
      tags:
        - single profiles
      summary: Listagem de perfís únicos
      description: Retorna perfís únicos de uma audiência.
      operationId: listSingleProfiles
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: query
          name: search
          description: >-
            Parâmetro opcional em formato string com dado que o cliente deseja
            filtrar.


            Dados que podem ser utilizados na pesquisa: **(e-mail, nome,
            telefone e cpf)**.


            Neste exemplo a seguir é utilizado como filtro um e-mail


            `/v2/single-profiles?search=user123@gmail.com`


            Você solicita todos os perfís únicos que contenham user123@gmail.com
            como e-mail.
          required: false
          type: string
        - in: query
          name: limit
          description: limite de registros de perfís únicos a serem retornados.
          required: false
          type: number
          default: 100
          minimum: 1
          maximum: 100
        - in: query
          name: offset
          description: Subset ou página a ser retornada.
          required: false
          type: number
          default: 0
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: >-
              Retorna alguns meta dados levados em consideração na consulta e o
              resultado.
            required:
              - success
              - total
              - limit
              - offset
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              total:
                type: Number
                description: Total de registros.
                example: 1
              limit:
                type: Number
                description: Limite de objetos para executar consulta.
                example: 100
              offset:
                type: Number
                description: Página utilizada para executar consulta.
                example: 0
              data:
                type: array
                description: Resultado da consulta de listagem de perfís únicos.
                items:
                  type: object
                  description: object (SingleProfile).
                  schema: null
                  properties:
                    id:
                      type: string
                      description: Identificador do perfil único.
                      example: 68a81cb8-14de-11e9-88dd-15998c48f0b9
                    nm_user:
                      type: string
                      description: Nome do usuário
                      example: Adolfo Da Rosa Matos
                    is_sms_subscribed:
                      type: boolean
                      description: >-
                        Flag sinalizando se usuário aceita receber notificações
                        sms.
                      example: true
                    is_push_subscribed:
                      type: boolean
                      description: >-
                        Flag sinalizando se usuário aceita receber notificações
                        push.
                      example: true
                    id_one_signal:
                      type: string
                      description: Identificador do perfíl único no One Signal.
                      example: 87f87b1d-241d-429c-be6c-ee36d1226940
                    is_bounce:
                      type: boolean
                      description: Flag sinalizando se e-mail é considerado bounce.
                      example: false
                    nr_phone:
                      type: string
                      description: Número do telefone.
                      example: '5551999999999'
                    ds_email:
                      type: string
                      description: E-mail do usuário
                      example: user123@gmail.com
                    is_email_subscribed:
                      type: boolean
                      description: >-
                        Flag sinalizando se usuário aceita receber notificações
                        de e-mail.
                      example: true
                    links:
                      type: object
                      description: Objeto com referência para o resource em questão.
                      properties:
                        self:
                          type: String
                          description: Referência para o resource em questão..
                          example: >-
                            /v2/single-profiles/68a81cb8-14de-11e9-88dd-15998c48f0b9
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna sucesso da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Não foi possível listar single profiles.
              type:
                type: String
                description: Tipo de erro.
                example: SINGLE_PROFILES_LIST_ERROR
      x-code-samples:
        - lang: CURL
          source: >
            curl -X GET \

            'https://bulk.beta.api.4all.com/v2/single-profiles?search=user123@gmail.com
            \

            -H 'Content-Type: application/json' \

            -H 'x-api-key: f3o4mc-3-kck34-f394'
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'GET',
              url: 'https://bulk.beta.api.4all.com//v2/single-profiles',
              qs: { search: 'user123@gmail.com' },
              headers:
              { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json' } };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
  /single-profiles/batch:
    delete:
      tags:
        - single profiles
      summary: Deleção de perfís únicos em lote.
      description: >-
        Esta operação é assíncrona, os dados vão ser deletados em um posterior
        momento, porém não vão mais estar disponíveis para consulta.

        Quantidade de perfís únicos no corpo da requisição `>=1 && <=100000`
      operationId: deleteBatchSingleProfiles
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Array de ids.
          required: true
          schema:
            type: object
            properties:
              ids:
                type: array
                items:
                  type: string
                  description: ids de perfís únicos.
                example:
                  - 9abc2359-264c-11e9-8517-41611133595f
                  - d92eb700-edcc-11e8-84d3-b9a7fdd4ea23
                  - 4d5ca2dd-967e-47f1-842d-6c49ea4b8287
      responses:
        '207':
          description: Multi-Status.
          schema:
            type: object
            description: Retorna success ou error
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                description: Dados de retorno
                required:
                  - sent
                  - deleted
                  - error
                  - errors
                properties:
                  sent:
                    type: integer
                    description: Total de ids enviados.
                    example: 3
                  deleted:
                    type: integer
                    description: Total de perfís únicos que foram deletadas.
                    example: 1
                  error:
                    type: integer
                    description: Total de erros que ocorreram.
                    example: 2
                  errors:
                    type: array
                    description: Lista de erros.
                    items:
                      type: object
                      properties:
                        id_error:
                          type: string
                          description: >-
                            Algum erro interno ocorreu, entrar em contato
                            informando `id_error` gerado para que seja possível
                            analisar.
                        error:
                          type: object
                          description: Dados do erro.
                    example:
                      - id_error: a1cd78f3-dbca-4c04-825f-bcd2d085128f
                      - message: Single profile não encontrado.
                        type: SINGLE_PROFILE_NOT_FOUND_ERROR
                        data:
                          id: d92eb700-edcc-11e8-84d3-b9a7fdd4ea23
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
      x-code-samples:
        - lang: CURL
          source: |
            curl -X DELETE \
            'https://bulk.beta.api.4all.com/v2/single-profiles/batch' \
            -H 'Content-Type: application/json' \
            -H 'x-api-key: f3o4mc-3-kck34-f394' \
            -d '{
                "ids": [
                  "9abc2359-264c-11e9-8517-41611133595f",
                  "d92eb700-edcc-11e8-84d3-b9a7fdd4ea23",
                  "4d5ca2dd-967e-47f1-842d-6c49ea4b8287"
                ]
              }'
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'DELETE',
              url: 'https://bulk.beta.api.4all.com/v2/single-profiles/batch',
              headers: { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json'
              },
              body: {
                ids: [
                  '9abc2359-264c-11e9-8517-41611133595f',
                  'd92eb700-edcc-11e8-84d3-b9a7fdd4ea23',
                  '4d5ca2dd-967e-47f1-842d-6c49ea4b8287'
                ]
              },
              json: true
            };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
  /single-profiles/{id}:
    get:
      tags:
        - single profiles
      summary: Retorna detalhes de um perfil único.
      description: Detalhes de um perfil único.
      operationId: showSingleProfile
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
          description: Identificador do perfil único.
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: Retorna sucesso da requisição.
            required:
              - success
              - data
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              data:
                type: object
                properties:
                  id:
                    type: string
                    description: Identificador do perfil único.
                    example: 9abd5fa3-264c-11e9-9811-e139dabc2a5c
                  id_audience:
                    type: string
                    description: Identificador da audiência.
                    example: 99999999-796a-11e8-ac12-0a0f862da7d4
                  activities_payment:
                    type: array
                    description: Array de objetos atividades de pagamento.
                    items:
                      type: object
                      properties:
                        cd_activity_category:
                          type: string
                          description: Código da categoria da atividade.
                          example: financial
                        ds_activity_category:
                          type: string
                          description: Descrição da categoria da atividade.
                          example: Finanças
                        cd_activity_type:
                          type: string
                          description: Código do tipo da atividade.
                          example: '1'
                        ts_registered_at:
                          type: string
                          description: Timestamp de quando dado foi registrado.
                          example: '2018-11-20T20:20:46.391622'
                        ds_activity_action:
                          type: string
                          description: Descrição da ação da atividade.
                          example: Pagamento
                        cd_activity_action:
                          type: string
                          description: Código da ação da atividade.
                          example: pay
                        ds_activity_type:
                          type: string
                          description: Descrição do tipo da atividade.
                          example: Cartão Crédito
                  addresses:
                    type: array
                    description: Array de objetos endereços cadastrado.
                    items:
                      type: object
                      properties:
                        ds_complement:
                          type: string
                          description: Complemento do endereço.
                          example: '301'
                        is_active:
                          type: boolean
                          description: Flag sinalizando se endereço está ativo ou não.
                          example: true
                        nm_neighborhood:
                          type: string
                          description: Bairro do endereço.
                          example: Moinhos de Vento
                        nr_zipcode:
                          type: string
                          description: CEP do endereço.
                          example: '90540001'
                        nr_street:
                          type: string
                          description: Número do endereço.
                          example: '21345'
                        nm_street:
                          type: string
                          description: Nome da rua.
                          example: Rua Marquês do Pombal
                        nm_country:
                          type: string
                          description: Nome do país.
                          example: Brasil
                        nr_country_iso:
                          type: string
                          description: Código ISO do país.
                          example: '076'
                        cd_state:
                          type: string
                          description: Código do estado.
                          example: RS
                        cd_country_iso:
                          type: string
                          description: Código ISO do país.
                          example: BRA
                        nm_city:
                          type: string
                          description: Nome da cidade.
                          example: Porto Alegre
                        nm_state:
                          type: string
                          description: Nome do estado.
                          example: Rio Grande do Sul
                  real_time_geofences:
                    type: array
                    description: Array de UUID's de pontos geográficos.
                    items:
                      type: string
                      description: Identificador de um ponto geográfico.
                      example: e906b35a319146868d911f10721a700a
                  cards:
                    type: array
                    description: Array de objetos cartões cadastrados.
                    items:
                      type: object
                      properties:
                        nr_last_digits:
                          type: string
                          description: Número dos últimos 4 dígitos
                          example: '1234'
                        id_card_4all:
                          type: numeric
                          description: Identificador do cartão.
                          example: 252487
                        cd_brand:
                          type: string
                          description: Código identificador da bandeira.
                          example: '2'
                        cd_card_type:
                          type: string
                          description: Código identificador do tipo de cartão.
                          example: '3'
                        cd_source_sytem:
                          type: string
                          description: Código identificador da origem do dado.
                          example: fintech_4all
                        nm_brand:
                          type: string
                          description: Nome da marca do cartão.
                          example: MASTERCARD
                        dt_expiration:
                          type: string
                          description: Data de expiração do cartão.
                          example: '2027-01-04T23:59:59'
                  education:
                    type: array
                    description: Array de objetos educação cadastrados.
                    items:
                      type: object
                      properties:
                        nm_institution:
                          type: string
                          description: Nome da instituição.
                          example: Universidade Federal do Rio Grande do Sul
                        dt_study_end:
                          type: string
                          description: Data final do estudo.
                          example: '1996-01-01T00:00:00'
                        nr_order:
                          type: integer
                          description: >-
                            Número de ordenação, utilizado para dar prefência em
                            listagens de dados que utilizam.
                          example: 3
                        cd_source_sytem:
                          type: string
                          description: Código identificador da origem do dado.
                          example: etl/fullcontact
                        dt_study_start:
                          type: string
                          description: Data de início dos estudos.
                          example: '1991-01-01T00:00:00'
                        ds_education_degree:
                          type: string
                          description: Grau de educação.
                          example: Administração de Empresas
                  keywords:
                    type: array
                    description: Array de objetos palavras chave.
                    items:
                      type: object
                      properties:
                        nr_order:
                          type: integer
                          description: >-
                            Número de ordenação, utilizado para dar prefência em
                            listagens de dados que utilizam.
                          example: 1
                        cd_source_sytem:
                          type: string
                          description: Código identificador da origem do dado.
                          example: etl/fullcontact
                        ds_keyword:
                          type: string
                          description: Palavra chave.
                          example: Porto Alegre
                  is_bounce:
                    type: boolean
                    description: Flag sinalizando se e-mail do usuário é valido.
                    example: false
                  employment:
                    type: array
                    description: Array de objetos empregos cadastrados.
                    items:
                      type: object
                      properties:
                        ds_ocupation_title:
                          type: string
                          description: Título da ocupação.
                          example: Redator Junior
                        is_current_employment:
                          type: boolean
                          description: Flag sinalizando se é emprego atual.
                          example: false
                        nm_company:
                          type: string
                          description: Nome da empresa.
                          example: ESCALA
                        nr_order:
                          type: integer
                          description: >-
                            Número de ordenação, utilizado para dar prefência em
                            listagens de dados que utilizam.
                          example: 7
                        cd_source_sytem:
                          type: string
                          description: Código identificador da origem do dado.
                          example: etl/fullcontact
                        dt_ocupation_start:
                          type: string
                          description: Data inicial do emprego.
                          example: '2014-01-01T00:00:00'
                        dt_ocupation_end:
                          type: string
                          description: Data final do emprego.
                          example: '2016-01-01T00:00:00'
                  nr_phone:
                    type: string
                    description: Número do telefone.
                    example: '5551999999999'
                  ds_email:
                    type: string
                    description: E-mail do usuário.
                    example: user123@gmail.com
                  users:
                    type: array
                    description: Array de objetos usuário.
                    items:
                      type: object
                      properties:
                        nm_user:
                          type: string
                          description: Nome do usuário.
                          example: Adolfo Da Rosa Matos
                        is_sms_subscribed:
                          type: boolean
                          description: >-
                            Flag sinalizando se está inscrito para receber
                            notificações sms.
                          example: true
                        ts_created_at:
                          type: string
                          description: Data da criação.
                          example: '2018-09-14T13:05:33.935841'
                        is_push_subscribed:
                          type: boolean
                          description: >-
                            Flag sinalizando se está inscrito para receber
                            notificações push.
                          example: true
                        ts_updated_at:
                          type: string
                          description: Data de atualização.
                          example: '2018-09-14T13:05:33.935841'
                        id_user:
                          type: string
                          description: Identificador do usuário.
                          example: eddf35fd-2fb8-11e9-ae5e-4118c73cee64
                        is_bounce:
                          type: boolean
                          description: Flag sinalizando se e-mail é valido.
                          example: false
                        nr_phone:
                          type: string
                          description: Número do telefone.
                          example: '5551999999999'
                        ds_email:
                          type: string
                          description: E-mail do usuário.
                          example: user123@gmail.com
                        is_email_subscribed:
                          type: boolean
                          description: >-
                            Flag sinalizando se está inscrito para receber
                            notificações e-mail.
                          example: true
                  nm_user:
                    type: string
                    description: Nome do usuário.
                    example: Adolfo Da Rosa Matos
                  is_sms_subscribed:
                    type: boolean
                    description: >-
                      Flag sinalizando se está inscrito para receber
                      notificações sms.
                    example: true
                  social_profile:
                    type: array
                    description: Array de objetos perfís sociais.
                    items:
                      type: object
                      properties:
                        nm_user:
                          type: string
                          description: Nome do usuário na rede social.
                          example: adolforosa
                        nr_order:
                          type: integer
                          description: >-
                            Número de ordenação, utilizado para dar prefência em
                            listagens de dados que utilizam.
                          example: 5
                        cd_social_network:
                          type: string
                          description: Nome da rede social.
                          example: gravatar
                        ds_url:
                          type: string
                          description: Url do perfil na rede social.
                          example: https://gravatar.com/adolforosa
                  is_push_subscribed:
                    type: boolean
                    description: >-
                      Flag sinalizando se está inscrito para receber
                      notificações push.
                    example: true
                  segmentations:
                    type: array
                    description: >-
                      Array de UUID's de ultra segmentações em que perfíl único
                      está vinculado.
                    items:
                      type: string
                      description: Identificador de uma ultra segmentação.
                      example: e906b35a319146868d911f10721a700a
                  websites:
                    type: array
                    description: Array de objetos sites do perfil único.
                    items:
                      type: object
                      properties:
                        cd_website_type:
                          type: string
                          description: Código do tipo de site.
                          example: Other
                        nr_order:
                          type: integer
                          description: >-
                            Número de ordenação, utilizado para dar prefência em
                            listagens de dados que utilizam.
                          example: 0
                        ds_url:
                          type: string
                          description: URL do site.
                          example: https://example.com/
                  interests:
                    type: array
                    description: Array de objetos interesses do perfil único.
                    items:
                      type: object
                      properties:
                        ds_interest:
                          type: string
                          description: Descrição do interesse.
                          example: Apple
                        nr_order:
                          type: integer
                          description: >-
                            Número de ordenação, utilizado para dar prefência em
                            listagens de dados que utilizam.
                          example: 3
                        cd_affinity_level:
                          type: string
                          description: Código do nível de afinidade.
                          example: LOW
                        cd_interest_type:
                          type: string
                          description: Código do tipo de interesse.
                          example: brand
                  is_email_subscribed:
                    type: boolean
                    description: >-
                      Flag sinalizando se está inscrito para receber
                      notificações e-mail.
                    example: true
                  last_payments:
                    type: array
                    description: Array de objetos últimos pagamentos do perfil único.
                    items:
                      type: object
                      properties:
                        ds_status_4all:
                          type: string
                          description: Status do pagamento.
                          example: Pago
                        card_cd_card_type:
                          type: string
                          description: Código do tipo de cartão utilizado.
                          example: '1'
                        nr_qt_installments:
                          type: numeric
                          description: Número de parcelas da compra.
                          example: 1
                        vl_total_amount:
                          type: numeric
                          description: Valor total da compra.
                          example: 201.6
                        id_merchant_4all:
                          type: integer
                          description: Identificador do comerciante na 4all.
                          example: 2459
                        card_nr_last_digits:
                          type: string
                          description: Número dos últimos 4 dígitos
                          example: '1234'
                        ts_requested_at:
                          type: string
                          description: Data que foi feita a requisição.
                          example: '2018-08-30T18:53:04'
                        ts_paid_at:
                          type: string
                          description: Data que foi feito o pagamento.
                          example: '2018-08-30T18:53:04'
                        nr_document:
                          type: string
                          description: Número do documento de pagamento.
                          example: '28269175000118'
                        id_payment_4all:
                          type: integer
                          description: Identificador do pagamento na 4all.
                          example: 46630221331
                        nm_category:
                          type: string
                          description: Nome da categoria.
                          example: Ingressos
                        card_dt_expiration:
                          type: string
                          description: Data da expiração do cartão.
                          example: '2026-05-04T23:59:59'
                        card_id_card_4all:
                          type: integer
                          description: Identificador do cartão na 4all.
                          example: 2233308
                        card_nm_brand:
                          type: string
                          description: Marca do cartão.
                          example: VISA
                        nm_establishment:
                          type: string
                          description: Nome do estabelecimento.
                          example: Uhuu
                        ds_payment_mode:
                          type: string
                          description: Modo de pagamento.
                          example: Cartão Crédito
                        cd_status_4all:
                          type: numeric
                          description: Código de status na 4all.
                          example: 3
                        vl_discount:
                          type: numeric
                          description: Valor de desconto.
                          example: 0
                        card_cd_brand:
                          type: string
                          description: Código da bandeira do cartão.
                          example: '1'
                  avatars:
                    type: array
                    description: Array de objetos avatar do perfil único.
                    items:
                      type: object
                      properties:
                        nr_order:
                          type: integer
                          description: >-
                            Número de ordenação, utilizado para dar prefência em
                            listagens de dados que utilizam.
                          example: 3
                        ds_url:
                          type: string
                          description: URL do avatar.
                          example: >-
                            https://instagram.fpoa4-1.fna.fbcdn.net/vp/02c5720823d9b177cfadb6c955cec0b8/5D0EECFE/t51.2885-19/s320x320/45857017_1190265724446100_2872107075364716544_n.jpg?_nc_ht=instagram.fpoa4-1.fna.fbcdn.net
                        ds_label:
                          type: string
                          description: Label da origem do avatar.
                          example: instagram
                  id_one_signal:
                    type: string
                    description: Identificador do perfíl único no One Signal.
                    example: 87f87b1d-241d-429c-be6c-ee36d1226940
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '404':
          description: Not found.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Single profile não encontrado.
              type:
                type: String
                description: Tipo de erro.
                example: SINGLE_PROFILE_NOT_FOUND_ERROR
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna sucesso da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao buscar single profile.
              type:
                type: String
                description: Tipo de erro.
                example: SINGLE_PROFILE_SHOW_ERROR
      x-code-samples:
        - lang: CURL
          source: >
            curl -X GET \

            'https://bulk.beta.api.4all.com/v2/single-profiles/68a81cb8-14de-11e9-88dd-15998c48f0b9'
            \

            -H 'Content-Type: application/json' \

            -H 'x-api-key: f3o4mc-3-kck34-f394'
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'GET',
              url: 'https://bulk.beta.api.4all.com/v2/single-profiles/68a81cb8-14de-11e9-88dd-15998c48f0b9',
              headers:
              { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json' } };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
    delete:
      tags:
        - single profiles
      summary: Deleta um perfil único.
      description: >-
        Esta operação é assíncrona, os dados vão ser deletados em um posterior
        momento, porém não vai mais estar disponível para consulta.
      operationId: deleteSingleProfile
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: path
          name: id
          required: true
          type: string
          description: Identificador do perfil único
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
      responses:
        '200':
          description: Ok.
          schema:
            type: object
            description: Retorna sucesso da requisição.
            required:
              - success
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
        '400':
          description: Bad Request.
          schema: *ref_2
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
        '404':
          description: Not found.
          schema:
            type: object
            description: Retorna successo da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Single profile não encontrado.
              type:
                type: String
                description: Tipo de erro.
                example: SINGLE_PROFILE_NOT_FOUND_ERROR
        '422':
          description: Unprocessable Entity.
          schema:
            type: object
            description: Retorna sucesso da requisição e possível mensagem de erro.
            required:
              - success
              - message
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: false
              message:
                type: String
                description: Mensagem de erro.
                example: Erro ao deletar single profile.
              type:
                type: String
                description: Tipo de erro.
                example: SINGLE_PROFILE_DELETE_ERROR
      x-code-samples:
        - lang: CURL
          source: >
            curl -X DELETE \

            'https://bulk.beta.api.4all.com/v2/single-profiles/68a81cb8-14de-11e9-88dd-15998c48f0b9'
            \

            -H 'Content-Type: application/json' \

            -H 'x-api-key: f3o4mc-3-kck34-f394'
        - lang: NodejS Request
          source: |
            var request = require("request");

            var options = { method: 'DELETE',
              url: 'https://bulk.beta.api.4all.com/v2/single-profiles/68a81cb8-14de-11e9-88dd-15998c48f0b9',
              headers:
              { 'x-api-key': 'f3o4mc-3-kck34-f394',
                'Content-Type': 'application/json' } };

            request(options, function (error, response, body) {
              if (error) throw new Error(error);

              console.log(body);
            });
  /schemas/validate-users:
    post:
      tags:
        - schemas
      summary: Validação de schema de Usuários
      description: Verifica se os dados enviados estão com schema esperado.
      operationId: schemaValidate
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Array de objetos do tipo Usuário.
          required: true
          schema: *ref_3
      responses:
        '200':
          description: OK.
          schema:
            type: object
            description: Retorna success e se é válido.
            required:
              - success
              - is_valid
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              id_valid:
                type: boolean
                description: Identificador da validade do schema enviada.
                example: true
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
  /schemas/validate-activities:
    post:
      tags:
        - schemas
      summary: Validação de schema de atividades
      description: Verifica se os dados enviados estão com schema esperado.
      operationId: schemaValidate
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - in: header
          name: Content-Type
          required: true
          type: string
          description: application/json
        - in: header
          name: x-api-key
          required: true
          type: string
          description: 6a2be906-7e16-4a3d-8e8f-1551eb0241f3
        - in: body
          name: body
          description: Array de objetos do tipo Atividades.
          required: true
          schema: *ref_4
      responses:
        '200':
          description: OK.
          schema:
            type: object
            description: Retorna success e se é válido.
            required:
              - success
              - is_valid
            properties:
              success:
                type: boolean
                description: Identificador do sucesso da requisição.
                example: true
              id_valid:
                type: boolean
                description: Identificador da validade do schema enviada.
                example: true
        '401':
          description: Unauthorized.
          schema: *ref_1
        '403':
          description: Forbidden.
          schema: *ref_0
